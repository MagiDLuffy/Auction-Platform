<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/loginAndRegister.css">
    <link rel="stylesheet" href="css/styles.css">
    <title>LoginPage</title>
</head>
<body>
    <header class="header">
        <nav class="navbar">
          <ul>
            <li><a href="home.html">Home</a></li>
            <li><a href="auction-listings.html">Auctions</a></li>
            <li><a href="help.html">Help</a></li>
          </ul>
        </nav>
    </header>

    <main>

        <div class="container" id = "container">
            <div class="form-container sign-up">
                <form id = "sign-up-form">
                    <h1>Create Account</h1>
                    <div class="social-icons">
                        <a class="fa-brands fa-google"></a>
                        <a class="fa-brands fa-microsoft"></a>
                        <a class="fa-brands fa-facebook"></a>
                        <a class="fa-brands fa-linkedin-in"></a>
                    </div>
                    <span>or use your email for registration</span>
                    <input type="text" id="register-name" placeholder="Name">
                    <input type="email" id="register-email" placeholder="Email">
                    <input type="password" id="register-password" placeholder="Password">
                    <button>Sign Up</button>
                </form>
            </div>

            <div class="form-container sign-in">
                <form id="sign-in-form">
                    <h1>Sign In</h1>
                    <div class="social-icons">
                        <a class="fa-brands fa-google"></a>
                        <a class="fa-brands fa-microsoft"></a>
                        <a class="fa-brands fa-facebook"></a>
                        <a class="fa-brands fa-linkedin-in"></a>
                    </div>
                    <span>or use your email for Signing In</span>
                    <input type="email" placeholder="Email">
                    <input type="password" placeholder="Password">
                    <a href="#">Forgot your password?</a>
                    <button>Sign In</button>
                </form>
            </div>
            <div class="toggle-container">
                <div class="toggle">
                    <div class="toggle-panel toggle-left">
                        <h1>Welcome Back!</h1>
                        <p>Enter your personal details to use all of site features</p>
                        <button class="hidden" id="login">Sign In</button>
                    </div>

                    <div class="toggle-panel toggle-right">
                        <h1>Hello Friend</h1>
                        <p>Register with your personal details to use all of site features</p>
                        <button class="hidden" id="register">Sign Up</button>
                    </div>

                </div>
            </div>
        </div>

    </main>
    




    <script src="https://kit.fontawesome.com/10e51ef5e7.js" crossorigin="anonymous"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const container = document.getElementById('container');
            const signUpBtn = document.getElementById('register');
            const signInBtn = document.getElementById('login');

            signUpBtn.addEventListener('click', () => {
                container.classList.add('active');
            });

            signInBtn.addEventListener('click', () => {
                container.classList.remove('active');
            });

            const signUpForm = document.getElementById('sign-up-form');
            const signInForm = document.getElementById('sign-in-form');

            signUnForm.addEventListener("submit", async (event) => {
                event.preventDefault();

                const name = document.getElementById("register-name");
                const email = document.getElementById("register-email");
                const password = document.getElementById("register-password");

                const res = await fetch('', {
                    method : 'POST',
                    headers : {'Content-Type' : 'application/json'},
                    body : JSON.stringify({name, email, password})
                });

                const data = res.json();
                alert(data.message);

            });

            signInForm.addEventListener('submit', async(event) => {
                event.preventDefault();

                const email = document.getElementById('login-email');
                const password = document.getElementById('login-password');

                const res = await fetch('', {
                    method : 'POST',
                    headers : {'Content-Type' : 'applcation/json'},
                    body : JSON.stringify({email, password})
                });

                const data = res.json();

                if (res.ok) {
                    localStorage.setItem('user', JSON.stringify(data.user));
                    localStorage.setItem('isLoggedIn', "true");
                    alert("Login Successful...!");
                    window.location.href = 'auction-listings.html';
                } else {
                    alert(data.message);
                }
            });


        });

    </script>

</body>
</html>